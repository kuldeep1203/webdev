<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script>
    //debouncing and throtling
    //debooucning u dont send request immediately wait for the user to actually type input
    //helps to limit calls
    let timeout ;
    function debounceans(){
        //wait for 100ms and then call ans 
        //delays the call to ans untill not been called for 100ms
        clearTimeout(timeout)
        timeout=setTimeout(()=>{
            ans();
        },100)
        
        //we need to start a new call whenvere there is a new clock4144414\ to debounce function
        //and the old clock gets deleted it will only call ans given that it isnt called in the complete
        //100 msec of the clock 
    }

    async function ans(){
        const p = document.getElementById("principal").value;
        const s = document.getElementById("rate").value;
        const t=document.getElementById("time").value;

       const response = await fetch("https://sum-server.100xdevs.com/interest?principal="+p+"&rate="+s+"&time="+t+"&time="+t);
       const ans = await response.text()
       document.getElementById("ans").innerHTML = ans;
    }

</script>
<body>
    <input type="text" id="principal" oninput="debounceans()"></input><br></br>
    <input type="text" id="rate" oninput="debounceans()"></input><br></br>
    <input type="text" id="time"oninput="debounceans()"></input><br></br>

    <!-- <button onclick="ans()">calculate</button> -->

    <div id = "ans"></div>
</body>
</html>